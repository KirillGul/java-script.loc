<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Промисы</title>
		<link rel="icon" href="/favicon.ico" type="image/x-icon">
		<link rel="stylesheet" href="/style.css">
	</head>
	<body>
        <a href="../index.html">Назад</a>

		<script>

			function loadScript(src) {
				return new Promise(function (resolve, reject) {
					let script = document.createElement('script');
					script.src = src;

					script.onload = () => resolve();
					script.onerror = () => reject(new Error(`Ошибка загрузки скрипта ${src}`));

					document.head.append(script);
				});
			}

			loadScript("my/script.js")
				.then(script => loadScript("my/script.js"))
				.then(script => {
					// скрипты загружены, мы можем использовать объявленные в них функции
					newFunction();
				});

			debugger;

		</script>

		<!-- //1 -->
		<script>
			/*
			let promise = new Promise(function(resolve, reject) {
				resolve(1);

				setTimeout(() => resolve(2), 1000);
			});

			promise.then(alert);
			*/
		</script>

		<!-- //2 -->
		<script>
			/*
			function delay(ms) {
				return new Promise(function(resolve, reject) {
					setTimeout(() => resolve("done"), ms);
				});
			}

			delay(3000).then(() => alert('выполнилось через 3 секунды'));
			*/
		</script>

		<!-- //3 -->
		<script>
			/*
			function showCircle(...args) {
				return new Promise(resolve);
			}

			showCircle(150, 150, 100).then(div => {
				div.classList.add('message-ball');
				div.append("Hello, world!");
			});
			*/
		</script>
		
	</body>
</html>
