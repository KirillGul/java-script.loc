<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="icon" href="/favicon.ico">
		<title>WeakMap и WeakSet</title>
	</head>
	<body>
        <a href="/index.html">Назад</a>

		<!-- //1 -->
		<script>
			"use strict"

			let messages = [
				{text: "Hello", from: "John"},
				{text: "How goes?", from: "John"},
				{text: "See you soon", from: "Alice"}
			];

			let readMessages = new WeakSet();

			readMessages.add(messages[0]);
			readMessages.add(messages[1]);

			alert("Read message 0: " + readMessages.has(messages[0])); // true

			messages.shift();

		</script>

		<!-- //2 -->
		<script>

			let messages2 = [
				{ text: "Hello", from: "John" },
				{ text: "How goes?", from: "John" },
				{ text: "See you soon", from: "Alice" }
			];

			let readMessages2 = new WeakMap();

			readMessages2.set(messages2[0], '15-11-2023');
			readMessages2.set(messages2[1], '16-11-2023');

			alert('Сообщение 1 было прочитанно в: ' + readMessages2.get(messages2[0]));

		</script>

	</body>
</html>
