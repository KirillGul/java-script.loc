<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Введение в браузерные события</title>
		<link rel="icon" href="/favicon.ico" type="image/x-icon">
		<link rel="stylesheet" href="/style.css">
	</head>
	<body>
		<a href="../index.html">Назад</a>

		<!-- //1 -->
		<h3>Task1</h3>
		<input type="button" id="one" value="Нажмите, чтобы спрятать текст">
		<div id="text">text</div>

		<script>
			'use strict';

			let one = document.getElementById('one');
			one.onclick = function() {
				let text = document.getElementById('text');
				text.style.display = 'none';
			}
		</script>

		<!-- //2 -->
		<h3>Task2</h3>
		<input type="button" id="two" value="Нажмите, чтобы спрятать">

		<script>
			'use strict';

			document.getElementById('two').onclick = function() {
				this.hidden = true;
			};
		</script>
		
		<!-- //3 -->
		<h3>Task3</h3>
		<input type="button" id="tree" value="Tree tasks">
		<script>
			'use strict';

			let button = document.getElementById('tree');
		
			button.addEventListener("click", () => alert("1")); //1
			button.removeEventListener("click", () => alert("1")); //не сработает
			button.onclick = () => alert(2); //2

		</script>

		<!-- //4 -->
		<h3>Task4</h3>
		<style>
			#field {
				position: relative;
      			width: 200px;
      			border: 10px groove black;
      			background-color: #00FF00;
				overflow: hidden;
      			cursor: pointer;
    		}

    		#ball {
      			position: absolute;
				width: 40px;
				height: 40px;
				left: 0;
				top: 0;
				transition: 1s all;
    		}
		</style>

		<div id="field">
			<img src="https://en.js.cx/clipart/ball.svg" id="ball"> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
			. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
		</div>

		<script>
			'use strict';

			let field = document.getElementById('field');
			let ball = document.getElementById('ball');

			let coordsField = field.getBoundingClientRect();
			let coordsBall = ball.getBoundingClientRect();
		
			field.onclick = function(event) {				
		
				let top = event.clientY - coordsBall.top - coordsBall.height / 2;
				let left = event.clientX - coordsBall.left - coordsBall.width / 2;

				if (top < 0) {
					top = 0;
				} else if (top > field.clientHeight - coordsBall.height) {
					top = field.clientHeight - coordsBall.height;
					
				}

				if (left < 0) {
					left = 0;
				}else if (left > field.clientWidth - coordsBall.width) {
					left = field.clientWidth - coordsBall.width;
					
				}

				ball.style.top = top + 'px';
				ball.style.left = left + 'px';
			}			

		</script>

		<!-- //5 -->
		<h3>Task5</h3>
		<style>
			.menu ul {
				margin: 0;
				list-style: none;
				padding-left: 20px;
				display: none;
			}

			.menu .title::before {
				content: '▶ ';
				font-size: 80%;
				color: green;
			}

			.menu.open .title::before {
				content: '▼ ';
			}

			.menu.open ul {
				display: block;
			}

		</style>

		<div id="four" class="menu">
			<span class="title">Сладости (нажми меня)!</span>
			<ul>
				<li>Пироженное</li>
				<li>Пончик</li>
				<li>Мёд</li>
			</ul>
		</div>

		<script>
			'use strict';

			let four = document.querySelector('.menu');

			four.onclick = function() {
				this.classList.toggle('open');
			}

		</script>

		<!-- //6 -->
		<h3>Task6</h3>

		<style>
			.articles {
				width: 500px;
				height: 400px;
				overflow: auto;
			}
			.article {
				font-size: 16px;
				padding: 10px;
				background-color:lemonchiffon;
				border-top: 4px solid lightgreen;
			}
			h4 {
				margin: 10px 0;
				float: left;
			}
			.close {
				float: right;
				color: brown;
				cursor: pointer;
			}
			.clearfix {
				content: " ";
  				clear: both;
  				display: block;
			}
		</style>

		<div class="articles">
			<div class="article">
				<h4>Article 1</h4>
				<div class="close">[X]</div>
				<div class="clearfix"></div>
				<div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic voluptates doloremque laudantium deleniti necessitatibus quam suscipit sed harum fugit magnam. Nihil a necessitatibus, hic nam explicabo ipsum consequatur quae possimus, cum aperiam natus eos sit quis, incidunt ex sunt dignissimos minima facere. In quas obcaecati ex libero iusto deleniti perferendis?</div>
			</div>
			<div class="article">
				<h4>Article 2</h4>
				<div class="close">[X]</div>
				<div class="clearfix"></div>
				<div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic voluptates doloremque laudantium deleniti necessitatibus quam suscipit sed harum fugit magnam. Nihil a necessitatibus, hic nam explicabo ipsum consequatur quae possimus, cum aperiam natus eos sit quis, incidunt ex sunt dignissimos minima facere. In quas obcaecati ex libero iusto deleniti perferendis?</div>
			</div>
			<div class="article">
				<h4>Article 3</h4>
				<div class="close">[X]</div>
				<div class="clearfix"></div>
				<div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic voluptates doloremque laudantium deleniti necessitatibus quam suscipit sed harum fugit magnam. Nihil a necessitatibus, hic nam explicabo ipsum consequatur quae possimus, cum aperiam natus eos sit quis, incidunt ex sunt dignissimos minima facere. In quas obcaecati ex libero iusto deleniti perferendis?</div>
			</div>
		</div>

		<script>
			'use strict';

			let close = document.querySelectorAll('.close');

			close.forEach(element => {
				element.onclick = function() {
					this.parentElement.remove();
				}
			});
		</script>

		<!-- //7 -->
		<h3>Task7</h3>

		<style>
			#carusel {
				position: relative;
				width: 398px;
				text-align: center;
				vertical-align: middle;				
				border-radius: 10px;
				background-color:#999;
				padding: 10px;
			}
			#carusel .arrow {
				position: absolute;
				top: 60px;
				font-size: 25px;
				cursor: pointer;				
			}
			#carusle .arrow:hover {
				font-size: 30px;
			}
			#carusel .arrow-left {
				left: 0;
				transform: rotate(180deg);
			}
			#carusel .arrow-right {
				right: 0;		
			}
			.smile {
				overflow: hidden;
				height: 130px;
			}			
			#carusel ul {
				transition: 0.5s all;
				width: 9999px;
				padding: 0;
				margin: 0;
				display: inline-block;
				overflow: hidden;
				margin-left: 0px;
				margin-right: 0px;
			}
			#carusel li {
				display: block;
				width: 130px;
				height: 130px;
				float: left;
				list-style: none;
			}
			#carusel img {
				display: block;
			}

		</style>

		<div id="carusel">
			<span class="arrow arrow-left">&#10162;</span>
			<div class="smile">
				<ul>
					<li><img src="img/1.png"></li>
					<li><img src="img/2.png"></li>
					<li><img src="img/3.png"></li>
					<li><img src="img/4.png"></li>
					<li><img src="img/5.png"></li>
					<li><img src="img/6.png"></li>
					<li><img src="img/7.png"></li>
					<li><img src="img/8.png"></li>
					<li><img src="img/9.png"></li>
					<li><img src="img/10.png"></li>
				</ul>
			</div>
			<span class="arrow arrow-right">&#10162;</span>
		</div>

		<script>
			'use strict';

			let carusel = document.getElementById('carusel');
			let leftArrow = document.querySelector('.arrow-left');
			let rightArrow = document.querySelector('.arrow-right');

			leftArrow.style.top = carusel.clientHeight / 2 - leftArrow.offsetHeight / 2 + 'px';
			rightArrow.style.top = carusel.clientHeight / 2 - rightArrow.offsetHeight / 2  + 'px';

			let width = 130;
			let count = 1;
			let arrowCount = 3;

			let listElems = carusel.querySelectorAll('li');
			let position = 0;

			leftArrow.onclick = function() {
				let ul = document.querySelector('.smile ul');				
				position += width * count;
				// последнее передвижение влево может быть не на 3, а на 2 или 1 элемент
				position = Math.min(position, 0)
      			ul.style.marginLeft = position + 'px';
			}

			rightArrow.onclick = function() {
				let ul = document.querySelector('.smile ul');
				// сдвиг вправо
				position -= width * count;
				// последнее передвижение вправо может быть не на 3, а на 2 или 1 элемент
				position = Math.max(position, -width * (listElems.length - arrowCount));
				ul.style.marginLeft = position + 'px';
			}

		</script>
		
	</body>
</html>
